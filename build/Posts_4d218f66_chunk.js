(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1688:function(e,t,n){},1741:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return je}));n(1491);var a=n(1492),r=n.n(a),i=n(373),o=n.n(i),c=(n(73),n(30)),l=n.n(c),s=(n(1495),n(1496)),u=n.n(s),d=n(3),m=n.n(d),f=(n(88),n(39)),p=n.n(f),h=n(25),g=n.n(h),v=n(20),b=n.n(v),y=n(26),E=n.n(y),_=n(22),O=n.n(_),w=n(16),C=n.n(w),D=(n(374),n(220)),P=n.n(D),j=n(1),k=n.n(j),x=n(55),S=n(731),R={cate:"get_bottom_column_list",list:"get_bottom_column_posts_list"},K=[{id:"cate",name:"文章分类",icon:"shop_ziyuan21"},{id:"list",name:"文章列表",icon:"shop_ziyuan17"}],V=(n(190),n(87)),T=n.n(V),L=(n(122),n(42)),A=n.n(L),N=n(218),q=n(1489),I=(n(732),n(375)),W=n.n(I),B=n(28),F=n.n(B),M=(n(121),n(45)),z=n.n(M),G=n(219),J=n(59);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var X=z.a.Item,Y=function(e){E()(n,e);var t=Q(n);function n(e,a){var r;return g()(this,n),(r=t.call(this,e,a)).beforeCallback=function(e,t){var n=r.context.rowData,a=void 0===n?{}:n;a.id&&(e.id=a.id),e.is_column=1,S.a.order.save_bottom_column(H({},e)).then((function(e){e&&(r.props.changeSearch(),r.context.toggleWin("Setting"))}))},r.onCancel=function(){r.context.toggleWin("Setting")},r.state={},r}return b()(n,[{key:"componentDidMount",value:function(){this.context.rowData}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.context.rowData,n=void 0===t?{}:t,a=H({beforeCallback:this.beforeCallback,title:"分类详情",method:S.a.save_message_sign,visible:this.context.Setting,onCancel:this.onCancel,form:this.props.form},this.context.batConfig);return k.a.createElement(G.ModalComp,a,k.a.createElement(z.a,{className:"bulletbox-form"},k.a.createElement("div",{className:"collapse-style",style:{padding:"20px"}},k.a.createElement(T.a,{style:{marginTop:"16px"}},k.a.createElement(A.a,{span:24},k.a.createElement(X,F()({label:"标题"},J.d),e("title",{initialValue:n.title?n.title:"",rules:[{required:!0,message:'请输入标题" '}]})(k.a.createElement(l.a,null)))),k.a.createElement(A.a,{span:24},k.a.createElement(X,F()({label:"中文别名"},J.d),e("title_cn",{initialValue:n.title_cn?n.title_cn:"",rules:[{required:!0,message:'请输入中文别名" '}]})(k.a.createElement(l.a,null)))),k.a.createElement(A.a,{span:24},k.a.createElement(X,F()({label:"排序"},J.d),e("sort_order",{initialValue:n.sort_order?n.sort_order:""})(k.a.createElement(l.a,null)))),k.a.createElement(A.a,{span:24},k.a.createElement(X,F()({label:"状态"},J.d),e("status",{initialValue:n.status?n.status+"":"1"})(k.a.createElement(W.a.Group,null,k.a.createElement(W.a,{value:"1"},"启用"),k.a.createElement(W.a,{value:"2"},"禁用")))))))))}}]),n}(j.Component);Y.defaultProps={},Y.contextType=N.a;var Z=z.a.create()(Y),$=(n(89),n(40)),ee=n.n($),te=n(1498);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var ie=z.a.Item,oe=ee.a.Option,ce=W.a.Group,le=l.a.TextArea,se=function(e){E()(n,e);var t=re(n);function n(e,a){var r;return g()(this,n),(r=t.call(this,e,a)).beforeCallback=function(e,t){var n=r.context.rowData,a=void 0===n?{}:n,i=r.state.isLink;if(a.id&&(e.id=a.id),e.status=e.status?1:0,e.column_id=0!=a.parent_id?e.parent_id:"",e.is_link=null!=i?i:"2",e.is_column=0,1!=a.is_column&&1!=e.is_link){var o=window.UE.getEditor("description").getContent();e.description="<p>加载中...</p>"!=o?o:a.description}S.a.order.save_bottom_column(ae({},e)).then((function(e){e&&(r.props.changeSearch(),r.context.toggleWin("Addlist"))}))},r.getBottomColumn=function(){var e=r.context.rowData,t=void 0===e?{}:e;S.a.order.get_bottom_column({id:t.id,is_column:t.is_column}).then((function(e){r.setState({initData:e.resultData})}))},r.getBottomColumnList=function(){S.a.order.get_bottom_column_list().then((function(e){var t=e.resultData,n=[];t.map((function(e){var t={label:e.title,value:e.id+"-".concat(e.is_column),is_column:e.is_column};n.push(t)})),r.setState({PcategoryDataList:n})}))},r.onCancel=function(){r.context.toggleWin("Addlist")},r.handleChange=function(e){var t=r.state.initData,n=void 0===t?{}:t;n.is_column=0!=e?0:1,n.column_id=e,r.setState({initData:n})},r.handleChangeRadio=function(e){r.setState({isLink:e.target.value})},r.validForm=function(e,t,n){var a=r.context.rowData,i=void 0===a?{}:a,o={url:t,id:i.id?i.id:"",type:2};S.a.order.check_seo_url_unique(ae({},o)).then((function(e){e&&n()}))},r.state={},r}return b()(n,[{key:"componentDidMount",value:function(){var e=this.context.rowData;(void 0===e?{}:e).id&&this.getBottomColumn(),this.getBottomColumnList()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,n=(this.context.rowData,this.state),a=n.initData,r=void 0===a?{}:a,i=(n.description,ae(ae({beforeCallback:this.beforeCallback,title:"分类详情",method:S.a.save_message_sign,visible:this.context.Addlist,onCancel:this.onCancel,form:this.props.form},this.context.batConfig),{},{width:1200})),o=""!=r.link&&null!=r.link,c=this.state,s=c.PcategoryDataList,d=void 0===s?[]:s,m=c.isLink,f=void 0===m?o?1:2:m;return k.a.createElement(G.ModalComp,i,k.a.createElement(z.a,{style:{padding:"15px"}},k.a.createElement(T.a,null,k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"上级分类"},J.d),t("parent_id",{initialValue:r.column_id?r.column_id+"-1":"",rules:[{required:!0,message:"请选择分类"}]})(k.a.createElement(ee.a,{onChange:function(t){return e.handleChange(t)}},d.map((function(e){return k.a.createElement(oe,{key:e.value},e.label)})))))),k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"文章名称"},J.d),t("title",{initialValue:r.title||r.name||"",rules:[{required:!0,max:50,message:"请输入不超过16个字符的名称"}]})(k.a.createElement(l.a,{placeholder:"最多可输入16个字符"})))),k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"中文别名"},J.d),t("title_cn",{initialValue:r.title_cn||r.name_cn||"",rules:[{required:!1,message:"必填项"}]})(k.a.createElement(l.a,null)))),k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({},J.d,{label:"排序"}),t("sort_order",{initialValue:r.sort_order||""})(k.a.createElement(l.a,null)))),k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"导航类型"},J.d),t("navigationType",{initialValue:1!=f?"2":"1"})(k.a.createElement(ce,{onChange:function(t){return e.handleChangeRadio(t)}},k.a.createElement(W.a,{value:"2"},"自定义内容"),k.a.createElement(W.a,{value:"1"},"外部URL"))))),2!=f?null:k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"自定义链接"},J.d),t("url",{initialValue:r.url||"",rules:[{required:!1,message:"必填项"},{validator:this.validForm}]})(k.a.createElement(l.a,null)))),2!=f?null:k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"SEO标题"},J.d),t("meta_title",{initialValue:r.meta_title||""})(k.a.createElement(l.a,null)))),2!=f?null:k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"SEO关键字"},J.d),t("meta_keyword",{initialValue:r.meta_keyword||""})(k.a.createElement(l.a,null)))),2!=f?null:k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"SEO描述"},J.d),t("meta_description",{initialValue:r.meta_description||""})(k.a.createElement(le,{rows:4})))),2!=f?"":k.a.createElement(A.a,{span:24,className:"description-rich"},k.a.createElement(ie,F()({label:"详情"},J.d),t("description",{initialValue:r.description||"",rules:[{required:!1,message:"必填项"}]})(k.a.createElement(te.a,{id:"description",richText:r.description})))),1!=f?null:k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"外部链接"},J.d),t("link",{initialValue:r.link||"",rules:[{required:!1,message:"必填项"}]})(k.a.createElement(l.a,null)))),k.a.createElement(A.a,{span:24},k.a.createElement(ie,F()({label:"状态"},J.d),t("status",{valuePropName:"checked",initialValue:0!=r.status})(k.a.createElement(u.a,{checkedChildren:"启用",unCheckedChildren:"禁用"})))))))}}]),n}(j.Component);se.defaultProps={},se.contextType=N.a;var ue=z.a.create()(se);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var me=function(e){E()(n,e);var t=de(n);function n(e,a){var r;return g()(this,n),(r=t.call(this,e,a)).componentDidMount=function(){},r.tablist=function(){},r.state={Checkboxdata:[]},r}return b()(n,[{key:"render",value:function(){var e=this,t=this.context.activeKey,n={config:[{title:"添加",onAuth:"add",noCheck:!0,method:"",onClick:function(){return e.context.toggleWin("list"==t?"Addlist":"Setting")}}],unicode:"",batConfig:this.context.batConfig};return k.a.createElement("div",{className:"action-bar"},k.a.createElement(T.a,{type:"flex",justify:"space-between",align:"middle",gutter:10},k.a.createElement(A.a,null,k.a.createElement(q.a,n))),this.context.Setting&&k.a.createElement(Z,{changeSearch:this.props.changeSearch}),this.context.Addlist&&k.a.createElement(ue,{changeSearch:this.props.changeSearch}))}}]),n}(j.Component);me.defaultProps={},me.contextType=N.a;var fe,pe,he,ge=n(1493),ve=n(1494);function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var Ee,_e=(pe=fe=z.a.create()(he=function(e){E()(n,e);var t=ye(n);function n(e,a){var r;return g()(this,n),(r=t.call(this,e,a)).state={},r.handleFormData=function(e){var t={};"list"==r.props.activeKey?(t.name=e.title,t.title=""):(t.title=e.title,t.name=""),r.props.changeSearch(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))},r.state={},r}return b()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return k.a.createElement(ve.a,{loading:this.props.loading,SearchConf:[{type:"input",labelConf:{name:"名称",key:"title"},span:6}],handleFormData:this.handleFormData,activeKey:this.props.activeKey,changeTab:this.props.onChange})}}]),n}(j.Component))||he,fe.defaultProps={},pe),Oe=n(1490);n(1688);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var Pe=P.a.TabPane,je=Object(Oe.a)({toolConfig:{list:{action:"get_bottom_column_list"}}})(Ee=function(e){E()(n,e);var t=De(n);function n(e,a){var r;g()(this,n),(r=t.call(this,e,a)).onBlur=function(e,t,n){e.target.value!=n&&S.a.order.sort_order_bottom_column({id:t,is_column:"cate"==r.state.activeKey?1:0,sort_order:e.target.value}).then((function(e){e&&p.a.success("修改成功")}))},r.onChange=function(e,t){S.a.order.publish_bottom_column({id:t,is_column:"cate"==r.state.activeKey?1:0,status:e?1:0}).then((function(e){e&&p.a.success("修改成功")}))},r.morelink=function(e,t,n){var a="/"+e+"/"+n;r.props.goLink(a,{title:t})},r.componentDidMount=function(){r.changeTab(r.state.activeKey)},r.toggleWin=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.state.otherConfig,i=void 0===a?{}:a;i=m()({rowData:n},t,!r.state[t]),r.setState((e={},m()(e,t,!r.state[t]),m()(e,"otherConfig",i),m()(e,"rowData",n),e))},r.changeTab=function(e){r.setState({activeKey:e}),r.props.initListParam({action:x.a[R[e]]}),r.props.changeSearch({},e)},r.jumpPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add",a=e+"/"+t+"/"+n,r=window.location.origin+"/#/"+a;window.open(r)},r.listdata=[],r.state={areaList:[],activeKey:e.activeKey||"cate",managerlist:[],channel_contrast:[],message_tag_list:[],listdata:[]};var i=[{title:"状态",dataIndex:"status",width:100,render:function(e,t){return k.a.createElement(u.a,{defaultChecked:1==e,onChange:function(e){return r.onChange(e,t.id)}})}},{title:"排序",dataIndex:"sort_order",width:180,render:function(e,t){return k.a.createElement(l.a,{defaultValue:e,onBlur:function(n){return r.onBlur(n,t.id,e)}})}},{title:"操作",dataIndex:"id",width:300,fixed:"right",render:function(e,t){return k.a.createElement(q.a,(n=t,{config:[{title:"编辑",onAuth:"add",noCheck:!0,onClick:function(){return r.toggleWin("cate"==r.state.activeKey?"Setting":"Addlist",n)}},{title:"删除",onAuth:"add",noCheck:!0,type:"danger",method:x.a.del_bottom_column}],batConfig:r.props.batConfig,rowData:n,paramData:{is_column:"cate"==r.state.activeKey?1:0,id:n.id}}));var n}}];return r.columns=[{title:"分类名称",dataIndex:"title",width:300},{title:"中文别名",dataIndex:"title_cn",width:300}].concat(i),r.columns1=[{title:"文章名称",dataIndex:"name",width:300},{title:"中文别名",dataIndex:"name_cn",width:300}].concat(i),r}return b()(n,[{key:"render",value:function(){var e,t=this,n=this.state,a=n.managerlist,i=n.message_tag_list,c=n.channel_contrast,l=n.activeKey,s=n.rowData,u=Ce({columns:"cate"==l?this.columns:this.columns1},this.props.tableConfig);o()(this.props);var d=Ce(Ce({},this.state.otherConfig),{},{toggleWin:this.toggleWin,jumpPage:this.jumpPage,batConfig:this.props.batConfig,activeKey:l,managerlist:a,message_tag_list:i,channel_contrast:c,changeSearch:this.props.changeSearch,rowData:s});return k.a.createElement("div",{className:"tabSwitching"},k.a.createElement("div",{className:"userStyle listStyle"},k.a.createElement(N.a.Provider,{value:d},k.a.createElement(_e,(e={changeSearch:this.props.changeSearch,activeKey:this.state.activeKey,message_tag_list:i,managerlist:a,channel_contrast:c},m()(e,"activeKey",l),m()(e,"onChange",this.changeTab),e)),k.a.createElement("div",{className:"header-tool"},k.a.createElement("p",null,"文章管理"),k.a.createElement(me,{changeSearch:this.props.changeSearch,values:this.props.values})),K?k.a.createElement(P.a,{type:"card",activeKey:this.state.activeKey,onChange:function(e){return t.changeTab(e)}},K.map((function(e){return k.a.createElement(Pe,{tab:k.a.createElement("span",null,e.name),key:e.id})}))):"",k.a.createElement(r.a,{className:"content-main"},k.a.createElement("div",{className:"content-table"},k.a.createElement(ge.a,u))))))}}]),n}(j.Component))||Ee}}]);