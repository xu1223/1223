(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1707:function(e,t,n){},1740:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return de}));n(1491);var r,a,c,o=n(1492),i=n.n(o),l=n(373),s=n.n(l),u=(n(73),n(30)),d=n.n(u),p=n(3),f=n.n(p),h=(n(88),n(39)),m=n.n(h),g=n(25),v=n.n(g),y=n(20),b=n.n(y),_=n(26),w=n.n(_),O=n(22),E=n.n(O),S=n(16),j=n.n(S),D=(n(374),n(220)),x=n.n(D),C=n(1),P=n.n(C),k=n(55),R=n(731),I=(n(190),n(87)),A=n.n(I),W=(n(122),n(42)),F=n.n(W),L=n(218),N=n(1489),U=n(28),K=n.n(U),M=(n(1499),n(1500)),T=n.n(M),B=n(10),J=n(219),z=n(1490),V=n(1493),Z=n(1501);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E()(this,n)}}var H=(a=r=Object(z.a)({toolConfig:{list:{action:"get_products_pager"}}})(c=function(e){w()(n,e);var t=G(n);function n(e,r){var a;return v()(this,n),(a=t.call(this,e,r)).beforeCallback=function(e){a.props.setSelectRowsadd(a.props.selectedRows),a.props.toggleWin("visibleAddShops")},a.onCancel=function(){a.props.toggleWin("visibleAddShops")},a.handleClick=function(e,t){a.props.changeSearch(e)},a.clearCategory=function(){a.setState({categoryId:""},(function(){a.props.changeSearch({categoryId:""},a.state.activeKey)}))},a.state={categroyList:[],stage:!0,stageid:"",supdata:[]},a.columns=[{title:"缩略图",dataIndex:"img_m",width:80,render:function(e,t,n){return P.a.createElement("a",{href:t.image},P.a.createElement("img",{src:e,style:{width:"60px"}}))}},{title:"商品信息",dataIndex:"sku",width:150,render:function(e,t,n){return P.a.createElement("div",null,P.a.createElement("p",null,"SPU:",t.spu),P.a.createElement("p",null,"SKU:",t.sku),P.a.createElement("p",null,"COLOR:",t.color),P.a.createElement("p",null,"SIZE:",t.size))}},{title:"商品名称",dataIndex:"name",width:200},{title:"商品分类",dataIndex:"categories",width:200,render:function(e,t){return P.a.createElement("span",null,e?e.parent_category_name:"",e&&e.parent_category_name?P.a.createElement("span",null," > "):"",e.child_category_name)}},{title:"商品实际售价格(USD)",dataIndex:"show_price",width:100,render:function(e,t){var n;return n=parseFloat(e).toFixed(2),P.a.createElement("span",null,n)}},{title:"商品市场价格(USD)",dataIndex:"price",width:100,render:function(e,t,n){var r;return r=parseFloat(e).toFixed(2),P.a.createElement("span",null,r)}}],a}return b()(n,[{key:"componentDidMount",value:function(){var e=this;Object(B.b)(k.a.get_category_tree_list).then((function(t){200==t.resultId&&(t.resultData.forEach((function(e){e.children=e.children,e.cate_name=e.name,e.review_status_num=e.parent_id,e.children&&e.children.forEach((function(e){e.children=e.children?e.children:[],e.cate_name=e.name,e.review_status_num=e.parent_id,e.children&&e.children.forEach((function(e){e.children=e.children?e.children:[],e.cate_name=e.name,e.review_status_num=e.parent_id}))}))})),e.setState({categroyList:t.resultData}))}))}},{key:"render",value:function(){var e=this,t=this.state.categroyList,n=(this.props.dataS,{beforeCallback:this.beforeCallback,title:!1,method:k.a.add_customer,visible:this.props.visibleAddShops,onCancel:this.onCancel,form:this.props.form,winType:3}),r={handleClick:this.handleClick,categroyList:t,clearCategory:this.clearCategory,type:"dev",ref:function(t){return e.child=t}},a=this.props.tableConfig;a.dataSource&&a.dataSource.map((function(e){e.selechange=0}));var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({columns:this.columns},a);return P.a.createElement(J.ModalComp,n,P.a.createElement(A.a,{style:{padding:"20px"}},P.a.createElement(F.a,{span:6,style:{marginRight:"10px"}},P.a.createElement(T.a,{offsetTop:94},P.a.createElement(Z.a,r))),P.a.createElement(F.a,{span:17},P.a.createElement("div",{className:"content-table"},P.a.createElement(V.a,K()({},c,{selectedRowKeys:this.state.listSelData}))))))}}]),n}(C.Component))||c,r.contextType=L.a,a);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E()(this,n)}}var X=function(e){w()(n,e);var t=Q(n);function n(e,r){var a;return v()(this,n),(a=t.call(this,e,r)).componentDidMount=function(){},a.tablist=function(){},a.setSelectRows=function(e,t){if(e){var n=[];e.map((function(e){n.push(e.id)})),R.a.order.add_collection_associated_products({product_ids:n,collection_id:a.context.id}).then((function(e){e&&(m.a.success("添加成功"),a.context.changeSearch())}))}},a.state={Checkboxdata:[]},a}return b()(n,[{key:"render",value:function(){var e=this,t={config:[{title:"添加关联",onAuth:"add",noCheck:!0,method:"",onClick:function(){return e.context.toggleWin("visibleAddShops")}},{title:"解除关联",onAuth:"add",method:k.a.remove_collection_associated_products}],unicode:"ids|id",batConfig:this.context.batConfig};return P.a.createElement("div",{className:"action-bar"},P.a.createElement(A.a,{type:"flex",justify:"space-between",align:"middle",gutter:10},P.a.createElement(F.a,null,P.a.createElement(N.a,t))),this.context.visibleAddShops&&P.a.createElement(H,{visibleAddShops:this.context.visibleAddShops,setSelectRowsadd:this.setSelectRows,toggleWin:this.context.toggleWin}))}}]),n}(C.Component);X.defaultProps={},X.contextType=L.a;n(121);var Y,$,ee,te=n(45),ne=n.n(te),re=n(1494);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E()(this,n)}}var oe,ie=($=Y=ne.a.create()(ee=function(e){w()(n,e);var t=ce(n);function n(e,r){var a;return v()(this,n),(a=t.call(this,e,r)).state={},a.handleFormData=function(e){a.props.changeSearch(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},a.state={},a}return b()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return P.a.createElement(re.a,{loading:this.props.loading,SearchConf:[{type:"input",labelConf:{name:"SKU",key:"sku"},span:6}],handleFormData:this.handleFormData})}}]),n}(C.Component))||ee,Y.defaultProps={},$);n(1707);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return E()(this,n)}}x.a.TabPane;var de=Object(z.a)({toolConfig:{list:{action:"get_collection_associated_products_pager"}}})(oe=function(e){w()(n,e);var t=ue(n);function n(e,r){var a;v()(this,n),(a=t.call(this,e,r)).onBlur=function(e,t,n){e.target.value!=n&&R.a.order.sort_collection_associated_products({id:t,sort_order:e.target.value}).then((function(e){e&&(m.a.success("修改成功"),a.props.changeSearch({}))}))},a.morelink=function(e,t,n){var r="/"+e+"/"+n;a.props.goLink(r,{title:t})},a.componentDidMount=function(){if(a.props.params){var e=a.props.params.id;a.id=e,a.props.changeSearch({collection_id:e})}},a.toggleWin=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.state.otherConfig,c=void 0===r?{}:r;c=f()({rowData:n},t,!a.state[t]),a.setState((e={},f()(e,t,!a.state[t]),f()(e,"otherConfig",c),f()(e,"rowData",n),e))},a.jumpPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add",r=e+"/"+t+"/"+n,a=window.location.origin+"/#/"+r;window.open(a)},a.listdata=[],a.state={areaList:[],channel_contrast:[],listdata:[]},a.id="";return a.columns=[{title:"图片",dataIndex:"product",render:function(e,t){var n=t.product;return P.a.createElement("img",{src:n.img_m,style:{width:"150px",height:"150px"}})}},{title:"商品名称/商品SKU/商品分类",dataIndex:"name",width:"600px",render:function(e,t){var n=t.product;return P.a.createElement("div",null,P.a.createElement("a",{href:n.product_url},n.name),P.a.createElement("p",null,n.sku),P.a.createElement("p",null,n.categories.parent_category_name," > ",n.categories.child_category_name))}},{title:"商品价格（USD）",dataIndex:"price",width:"150px",render:function(e,t){var n=t.product;return P.a.createElement("span",null,n.price)}},{title:"上架时间",dataIndex:"published_at",render:function(e,t){var n=t.product;return P.a.createElement("span",null,n.published_at)}},{title:"排序",dataIndex:"sort_order",width:150,render:function(e,t){return P.a.createElement(d.a,{disabled:-1==t.manager_id,defaultValue:e,onBlur:function(n){return a.onBlur(n,t.id,e)}})}},{title:"操作",dataIndex:"id",width:150,fixed:"right",render:function(e,t){return P.a.createElement(N.a,(n=t,{config:[{title:"解除关联",onAuth:"add",noCheck:!0,method:k.a.remove_collection_associated_products,childrenData:{ids:n.id}}],unicode:"id|ids",batConfig:a.props.batConfig,rowData:n}));var n}}],a}return b()(n,[{key:"render",value:function(){var e=this.state,t=e.channel_contrast,n=e.rowData,r=se({columns:this.columns},this.props.tableConfig);s()(this.props);var a=se(se({},this.state.otherConfig),{},{toggleWin:this.toggleWin,jumpPage:this.jumpPage,batConfig:this.props.batConfig,id:this.id,channel_contrast:t,changeSearch:this.props.changeSearch,rowData:n});return P.a.createElement("div",{className:"tabSwitching"},P.a.createElement("div",{className:"userStyle listStyle"},P.a.createElement(L.a.Provider,{value:a},P.a.createElement(ie,{changeSearch:this.props.changeSearch,channel_contrast:t}),P.a.createElement("div",{className:"header-tool"},P.a.createElement("p",null,"专题商品"),P.a.createElement(X,{changeSearch:this.props.changeSearch,values:this.props.values})),P.a.createElement(i.a,{className:"content-main"},P.a.createElement("div",{className:"content-table"},P.a.createElement(V.a,r))))))}}]),n}(C.Component))||oe}}]);