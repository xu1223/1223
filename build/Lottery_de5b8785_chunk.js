(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1716:function(e,t,a){},1728:function(e,t,a){"use strict";a.r(t);a(191);var n=a(114),r=a.n(n),l=(a(82),a(41)),o=a.n(l),c=(a(73),a(30)),i=a.n(c),s=(a(124),a(64)),u=a.n(s),m=(a(81),a(18)),d=a.n(m),p=a(28),f=a.n(p),y=(a(1495),a(1496)),v=a.n(y),h=(a(88),a(39)),E=a.n(h),g=a(25),C=a.n(g),N=a(20),k=a.n(N),w=a(26),b=a.n(w),S=a(22),D=a.n(S),R=a(16),x=a.n(R),q=(a(121),a(45)),I=a.n(q),P=(a(89),a(40)),V=a.n(P),B=a(1),F=a.n(B),J=a(59),_=(a(1716),a(731));function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=x()(e);if(t){var r=x()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return D()(this,a)}}var L=V.a.Option,M=I.a.Item,O=function(e){b()(a,e);var t=A(a);function a(e,n){var r;return C()(this,a),(r=t.call(this,e,n)).componentDidMount=function(){_.a.order.get_setting_list({type:2}).then((function(e){e&&r.setState({setting:e.resultData.setting})}))},r.save=function(){r.props.form.validateFields((function(e,t){var a=r.state.lotterydata,n=0;a.map((function(e){n+=Number(e.mony)})),100==n||E.a.error("请设置中奖率等于100")}))},r.handleChange=function(e,t){var a=r.state.lotterydata;a[t].coupons=e,r.setState({lotterydata:a})},r.InputChange=function(e,t){var a=r.state.lotterydata;a[t].mony=e.target.value,r.setState({lotterydata:a})},r.delete=function(e){var t=r.state.lotterydata;r.setState({lotterydata:t.splice(1,e)})},r.addlottery=function(){var e=r.state.lotterydata;e.length>4?E.a.error("最多添加5条数据"):(e.push({mony:"",coupons:""}),r.setState({lotterydata:e}))},r.state={loading:!1,lotterydata:[{mony:"1",coupons:"22"},{mony:"1",coupons:"22"}]},r}return k()(a,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.setting,l=void 0===n?{}:n,c=a.loading,s=a.lotterydata,m=void 0===s?[]:s;return F.a.createElement(r.a,{spinning:c},F.a.createElement("div",{className:"header-tool"},F.a.createElement("p",null,"营销抽奖")),F.a.createElement("div",{className:"Basic-main"},c?"":F.a.createElement(I.a,{className:"Basic-form"},F.a.createElement("div",{className:"Parameter-item",id:"link1"},F.a.createElement("p",null,"开关控制"),F.a.createElement("div",{style:{width:"13%"}},F.a.createElement(M,f()({label:"前台浮窗开关"},J.e),t("open",{initialValue:l.open||""})(F.a.createElement(v.a,{defaultChecked:1==l.open}))))),F.a.createElement("div",{className:"Parameter-item",id:"link2"},F.a.createElement("p",null,"抽奖数据",F.a.createElement(u.a,{placement:"topLeft",title:"最多可设置5个奖项，所有奖项的中奖概率值之和需为100%"},F.a.createElement(d.a,{className:"parameter-question",type:"question-circle"}))),F.a.createElement(M,{label:"奖项设置"},m.map((function(t,a){return F.a.createElement("div",{className:"lottery-item"},F.a.createElement(V.a,{style:{width:"150px"},defaultValue:t.coupons,onChange:function(t){return e.handleChange(t,a)}},F.a.createElement(L,{value:"11"},"11"),F.a.createElement(L,{value:"22"},"22")),F.a.createElement(i.a,{style:{width:"150px",margin:"0 15px"},addonAfter:"%",defaultValue:t.mony,onChange:function(t){return e.InputChange(t,a)}}),F.a.createElement(d.a,{onClick:function(){return e.delete(a)},type:"delete"}))})),F.a.createElement("a",{className:"lottery-add",onClick:function(){return e.addlottery()}},F.a.createElement(d.a,{type:"plus-square"})))),F.a.createElement("div",{className:"shop-footer-btn"},F.a.createElement(o.a,{type:"primary",onClick:function(){return e.save()}},"保存")))))}}]),a}(F.a.Component);t.default=I.a.create()(O)}}]);