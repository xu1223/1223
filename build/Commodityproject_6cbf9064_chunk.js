(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1692:function(e,t,n){},1757:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return fe}));n(1491);var a=n(1492),r=n.n(a),c=n(373),i=n.n(c),o=n(3),l=n.n(o),u=n(25),s=n.n(u),p=n(20),f=n.n(p),h=n(26),d=n.n(h),m=n(22),g=n.n(m),v=n(16),y=n.n(v),b=(n(374),n(220)),E=n.n(b),O=n(1),_=n.n(O),w=(n(55),[{id:"0",name:"PC端",icon:"shop_ziyuan21"},{id:"1",name:"moible",icon:"shop_ziyuan17"}]),P=(n(190),n(87)),S=n.n(P),j=(n(122),n(42)),C=n.n(j),D=(n(88),n(39)),k=n.n(D),x=n(218),R=n(1489),T=(n(732),n(375)),K=n.n(T),A=n(28),N=n.n(A),V=(n(73),n(30)),W=n.n(V),I=(n(121),n(45)),M=n.n(I),F=n(731),z=(n(10),n(219)),J=n(59);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y()(e);if(t){var r=y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var B=M.a.Item,H=W.a.TextArea,Q=function(e){d()(n,e);var t=G(n);function n(e,a){var r;return s()(this,n),(r=t.call(this,e,a)).beforeCallback=function(e,t){var n=r.context,a=n.rowData,c=void 0===a?{}:a,i=n.activeKey,o="save_product_template_theme";c.id&&(e.id=c.id,o="edit_product_template_theme"),e.is_mobile=i,F.a.order[o](q({},e)).then((function(e){e&&(r.props.changeSearch(),r.context.toggleWin("Setting"))}))},r.onCancel=function(){r.context.toggleWin("Setting")},r.state={},r}return f()(n,[{key:"componentDidMount",value:function(){this.context.rowData}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.context,n=t.rowData,a=void 0===n?{}:n,r=(t.activeKey,q({beforeCallback:this.beforeCallback,title:"商品专题信息",method:F.a.save_message_sign,visible:this.context.Setting,onCancel:this.onCancel,form:this.props.form},this.context.batConfig));return _.a.createElement(z.ModalComp,r,_.a.createElement(M.a,{className:"bulletbox-form"},_.a.createElement("div",{className:"collapse-style",style:{padding:"20px"}},_.a.createElement(S.a,{style:{marginTop:"16px"}},_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"商品专题名"},J.d),e("name",{initialValue:a.name?a.name:"",rules:[{required:!0,message:"商品专题名"}]})(_.a.createElement(W.a,null)))),_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"中文别名"},J.d),e("name_cn",{initialValue:a.name_cn?a.name_cn:""})(_.a.createElement(W.a,null)))),_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"自定义链接"},J.d),e("url",{initialValue:a.url?a.url:""})(_.a.createElement(W.a,null)))),_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"SEO标题"},J.d),e("meta_title",{initialValue:a.meta_title?a.meta_title:""})(_.a.createElement(W.a,null)))),_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"SEO关键字"},J.d),e("meta_keyword",{initialValue:a.meta_keyword?a.meta_keyword:""})(_.a.createElement(W.a,null)))),_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"SEO描述"},J.d),e("meta_description",{initialValue:a.meta_description?a.meta_description:""})(_.a.createElement(H,null)))),_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"排序"},J.d),e("sort_order",{initialValue:a.sort_order?a.sort_order:""})(_.a.createElement(W.a,null)))),_.a.createElement(C.a,{span:24},_.a.createElement(B,N()({label:"状态"},J.d),e("is_active",{initialValue:a.is_active?a.is_active+"":"0"})(_.a.createElement(K.a.Group,null,_.a.createElement(K.a,{value:"1"},"启用"),_.a.createElement(K.a,{value:"0"},"禁用")))))))))}}]),n}(O.Component);Q.defaultProps={},Q.contextType=x.a;var U=M.a.create()(Q);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y()(e);if(t){var r=y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var Y=function(e){d()(n,e);var t=X(n);function n(e,a){var r;return s()(this,n),(r=t.call(this,e,a)).componentDidMount=function(){},r.batch_active=function(e){var t=r.context.batConfig;F.a.order.batch_active_product_template_theme({is_active:e,ids:t.listSelData}).then((function(e){e&&(k.a.success("修改成功"),r.props.changeSearch())}))},r.state={},r}return f()(n,[{key:"render",value:function(){var e=this,t={config:[{title:"新增专题页",onAuth:"add",noCheck:!0,method:"",onClick:function(){return e.context.toggleWin("Setting")}},{title:"删除",onAuth:"del",type:"danger",method:"POST /api/admin/batch_delete_product_template_theme"},{title:"批量启用",onAuth:"add",onClick:function(){return e.batch_active("1")}},{title:"批量禁用",onAuth:"add",onClick:function(){return e.batch_active("0")}}],Arr:!0,unicode:"ids|id",batConfig:this.context.batConfig};return _.a.createElement("div",{className:"action-bar"},_.a.createElement(S.a,{type:"flex",justify:"space-between",align:"middle",gutter:10},_.a.createElement(C.a,null,_.a.createElement(R.a,t))),this.context.Setting&&_.a.createElement(U,{changeSearch:this.props.changeSearch}))}}]),n}(O.Component);Y.defaultProps={},Y.contextType=x.a;var Z,$,ee,te=n(1493),ne=n(1494);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y()(e);if(t){var r=y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}E.a.TabPane;var ce,ie=($=Z=M.a.create()(ee=function(e){d()(n,e);var t=re(n);function n(e,a){var r;return s()(this,n),(r=t.call(this,e,a)).state={},r.handleFormData=function(e){r.props.changeSearch(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},r.changeTab=function(e){},r.state={},r}return f()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[{type:"input",labelConf:{name:"商品专题名",key:"name"},span:6},{labelConf:{name:"状态",key:"is_active"},span:6,data:[{name:"启用",id:"1"},{name:"禁用",id:"0"}]||[]}];return _.a.createElement(ne.a,{loading:this.props.loading,SearchConf:e,activeKey:this.props.activeKey,handleFormData:this.handleFormData,changeTab:this.props.onChange})}}]),n}(O.Component))||ee,Z.defaultProps={},$),oe=n(1490);n(1692);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y()(e);if(t){var r=y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var pe=E.a.TabPane,fe=Object(oe.a)()(ce=function(e){d()(n,e);var t=se(n);function n(e,a){var r;s()(this,n),(r=t.call(this,e,a)).componentDidMount=function(){r.changeTab(r.state.activeKey)},r.toggleWin=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.state.otherConfig,c=void 0===a?{}:a;c=l()({rowData:n},t,!r.state[t]),r.setState((e={},l()(e,t,!r.state[t]),l()(e,"rowData",n),l()(e,"otherConfig",c),e))},r.changeTab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";r.setState({activeKey:e}),r.props.initListParam({action:"POST /api/admin/get_product_template_themes_pager"}),r.props.changeSearch({is_mobile:e+""},e+"")},r.jumpPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"edit",a=arguments.length>3?arguments[3]:void 0,r=e+"/"+t+"/"+n+"/"+a,c=window.location.origin+"/#/"+r;window.open(c)},r.listdata=[],r.state={areaList:[],activeKey:e.activeKey||"1",listdata:[]};return r.columns=[{title:"商品专题名",dataIndex:"name",width:300},{title:"中文别名",dataIndex:"name_cn",width:300},{title:"状态",dataIndex:"is_active",width:100,render:function(e,t){return _.a.createElement("div",null,1==e?"启用":"禁用")}},{title:"排序",dataIndex:"manager_name",width:180},{title:"操作",dataIndex:"id",width:300,fixed:"right",render:function(e,t){return _.a.createElement(R.a,{config:[{title:"装修",onAuth:"add",noCheck:!0,url:"Decorateedit/".concat((n=t).tpl_id,"/edit/").concat(n.id)},{title:"编辑",onAuth:"edit",noCheck:!0,onClick:function(){return r.toggleWin("Setting",n)}},{title:"删除",onAuth:"del",noCheck:!0,type:"danger",method:"POST /api/admin/delete_product_template_theme"}],unicode:"id|id",batConfig:r.props.batConfig,rowData:n});var n}}],r}return f()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.activeKey,a=t.rowData,c=ue({columns:this.columns},this.props.tableConfig);i()(this.props);var o=ue(ue({},this.state.otherConfig),{},{toggleWin:this.toggleWin,jumpPage:this.jumpPage,batConfig:this.props.batConfig,activeKey:n,changeSearch:this.props.changeSearch,rowData:a});return _.a.createElement("div",{className:"tabSwitching"},_.a.createElement("div",{className:"userStyle listStyle"},_.a.createElement(x.a.Provider,{value:o},_.a.createElement(ie,{changeSearch:this.props.changeSearch,activeKey:this.state.activeKey,onChange:this.changeTab}),_.a.createElement("div",{className:"header-tool"},_.a.createElement("p",null,"商品专题"),_.a.createElement(Y,{changeSearch:this.props.changeSearch,values:this.props.values})),w?_.a.createElement(E.a,{type:"card",activeKey:this.state.activeKey,onChange:function(t){return e.changeTab(t)}},w.map((function(e){return _.a.createElement(pe,{tab:_.a.createElement("span",null,e.name),key:e.id})}))):"",_.a.createElement(r.a,{className:"content-main"},_.a.createElement("div",{className:"content-table"},_.a.createElement(te.a,c))))))}}]),n}(O.Component))||ce}}]);