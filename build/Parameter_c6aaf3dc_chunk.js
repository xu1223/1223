(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{1699:function(e,a,t){},1773:function(e,a,t){"use strict";t.r(a);t(191);var n=t(114),l=t.n(n),r=(t(82),t(41)),i=t.n(r),c=(t(73),t(30)),s=t.n(c),o=(t(124),t(64)),u=t.n(o),m=(t(81),t(18)),d=t.n(m),p=t(28),h=t.n(p),f=(t(1495),t(1496)),_=t.n(f),E=t(3),g=t.n(E),v=(t(88),t(39)),y=t.n(v),k=t(25),b=t.n(k),w=t(20),q=t.n(w),N=t(26),V=t.n(N),C=t(22),S=t.n(C),D=t(16),P=t.n(D),L=(t(121),t(45)),x=t.n(L),R=(t(1694),t(1696)),I=t.n(R),z=t(1),B=t.n(z),J=t(59),O=(t(1699),t(731)),U=(t(281),t(113)),j=t.n(U),F=t(218),M=t(1723);function G(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=P()(e);if(a){var l=P()(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return S()(this,t)}}var H=s.a.Search,T=function(e){V()(t,e);var a=G(t);function t(e,n){var l;return b()(this,t),(l=a.call(this,e,n)).onChangegroup=function(e,a){l.setState({checkedList:e}),l.props.allcheckdata(e,a)},l.onSearch=function(e){l.setState({Searchvalue:e})},l.state={checkedList:[]},l.Searchvalue="",l}return q()(t,[{key:"componentDidMount",value:function(){this.indata()}},{key:"componentDidUpdate",value:function(){}},{key:"componentDidUpdate",value:function(){var e=this.state.Searchvalue;e!=this.Searchvalue&&(this.Searchvalue=e,this.indata())}},{key:"indata",value:function(){var e=this.props,a=e.platformNameList,t=void 0===a?[]:a,n=e.name,l=this.state,r=l.checkedList,i=void 0===r?[]:r,c=l.Searchvalue,s=void 0===c?"":c,o=i.length,u=t.map((function(e){var a=e.name_cn||e.lang_name;if(1==e.is_shield&&0==o&&i.push(e.id+""),-1!=a.indexOf(s))return s?B.a.createElement(j.a,{value:"".concat(e.id)},B.a.createElement("span",{style:{color:"rgb(255, 0, 0)"}},a)):B.a.createElement(j.a,{value:"".concat(e.id)},a)}));u&&(u=u.filter((function(e){return e}))),this.props.allcheckdata(i,n),this.setState({checkhtml:u,checkedList:i})}},{key:"reset",value:function(){this.setState({Searchvalue:""})}},{key:"render",value:function(){var e=this,a=this.props.name,t=this.state,n=t.checkhtml,l=void 0===n?[]:n,r=t.checkedList,c=void 0===r?[]:r,s=(t.Searchvalue,function(e){var a=e.rowIndex,t=e.columnIndex,n=(e.isScrolling,e.style),l=e.data;return B.a.createElement("div",{style:n},l[3*a+t])});return l.length>0?B.a.createElement("div",null,B.a.createElement("div",{style:{display:"flex",marginBottom:"20px",width:"500px"}},B.a.createElement(H,{placeholder:"请输入搜索的名称",onSearch:function(a){return e.onSearch(a)},enterButton:!0}),B.a.createElement(i.a,{style:{marginLeft:"10px"},onClick:function(){return e.reset()}},"重置")),B.a.createElement("div",null,B.a.createElement(j.a.Group,{value:c,onChange:function(t){return e.onChangegroup(t,a)}},B.a.createElement(M.a,{columnCount:3,columnWidth:330,height:150,rowCount:l.length,rowHeight:35,width:1010,itemData:l},s)))):""}}]),t}(z.Component);function W(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=P()(e);if(a){var l=P()(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return S()(this,t)}}T.contextType=F.a;I.a.Link;var A=x.a.Item,K=function(e){V()(t,e);var a=W(t);function t(e,n){var l;return b()(this,t),(l=a.call(this,e,n)).componentDidMount=function(){O.a.order.get_setting_list({type:2}).then((function(e){e&&l.setState({setting:e.resultData.setting,site:e.resultData.setting.site,email_notifier:e.resultData.setting.email_notifier,password_protection:e.resultData.setting.password_protection,verification_code:e.resultData.setting.verification_code,browser_languages:e.resultData.browser_languages,country:e.resultData.country,loading:!1})}))},l.save=function(){l.props.form.validateFields((function(e,a){var t=l.state,n=t.browser_language_ids,r=t.country_ids,i=t.setting;for(var c in a)if("boolean"==typeof a[c]&&(a[c]=a[c]?1:0),-1!=c.indexOf("#")){var s=c.split("#");a[c]&&(i[s[0]][s[1]]=a[c])}else i[c]=a[c];r=r.join(","),n=n.join(","),O.a.order.save_setting({setting:JSON.stringify(i),type:2,country_ids:r,browser_language_ids:n}).then((function(e){e&&y.a.success("保存成功")}))}))},l.allcheckdata=function(e,a){l.setState(g()({},a,e))},l.onChange=function(e){l.setState({password:e})},l.state={loading:!0,country_ids:[],browser_language_ids:[]},l}return q()(t,[{key:"render",value:function(){var e=this,a=this.props.form.getFieldDecorator,t=this.state,n=t.setting,r=void 0===n?{}:n,c=t.verification_code,o=void 0===c?{}:c,m=t.password_protection,p=void 0===m?{}:m,f=t.email_notifier,E=void 0===f?{}:f,g=t.site,v=void 0===g?{}:g,y=t.browser_languages,k=void 0===y?[]:y,b=t.country,w=void 0===b?[]:b,q=t.loading,N=t.password;return B.a.createElement(l.a,{spinning:q},B.a.createElement("div",{className:"header-tool"},B.a.createElement("p",null,"参数设置")),B.a.createElement("div",{className:"Basic-main"},q?"":B.a.createElement(x.a,{className:"Basic-form"},B.a.createElement("div",{className:"Parameter-item",id:"link1"},B.a.createElement("p",null,"前台控制"),B.a.createElement("div",{style:{width:"13%"}},B.a.createElement(A,h()({label:"网站开关"},J.e),a("open",{initialValue:r.open||""})(B.a.createElement(_.a,{defaultChecked:1==r.open}))),B.a.createElement(A,h()({label:"前台缓存"},J.e),a("cache",{initialValue:r.cache||""})(B.a.createElement(_.a,{defaultChecked:1==r.cache}))))),B.a.createElement("div",{className:"Parameter-item",id:"link2"},B.a.createElement("p",null,"屏蔽国家IP ",B.a.createElement(u.a,{placement:"topLeft",title:"选中国家IP不允许访问网站"},B.a.createElement(d.a,{className:"parameter-question",type:"question-circle"}))," "),B.a.createElement(T,{allcheckdata:this.allcheckdata,platformNameList:w,name:"country_ids"})),B.a.createElement("div",{className:"Parameter-item",id:"link3"},B.a.createElement("p",null,"屏蔽浏览器 ",B.a.createElement(u.a,{placement:"topLeft",title:"选中浏览器语言不允许访问网站"},B.a.createElement(d.a,{className:"parameter-question",type:"question-circle"}))),B.a.createElement(T,{allcheckdata:this.allcheckdata,platformNameList:k,name:"browser_language_ids"})),B.a.createElement("div",{className:"Parameter-item",id:"link4"},B.a.createElement("p",null,"密码保护  ",B.a.createElement(u.a,{placement:"topLeft",title:"开启后被屏蔽用户可输入访问密码进行访问"},B.a.createElement(d.a,{className:"parameter-question",type:"question-circle"}))),B.a.createElement("div",{className:"Parameter-grid1"},B.a.createElement(A,h()({label:""},J.e),a("password_protection#open",{initialValue:p.open||""})(B.a.createElement(_.a,{onChange:this.onChange,defaultChecked:1==p.open}))),B.a.createElement(A,h()({label:"访问提示"},J.e),a("password_protection#access_to_prompt",{initialValue:p.access_to_prompt||"",rules:[{required:!0,message:"请输入访问提示"}]})(B.a.createElement(s.a,null))),1==p.open||N?B.a.createElement(A,h()({label:"访问密码"},J.e),a("password_protection#access_to_password",{initialValue:p.access_to_password||"",rules:[{required:!0,message:"请输入访问密码"}]})(B.a.createElement(s.a,null))):"")),B.a.createElement("div",{className:"Parameter-item",id:"link5"},B.a.createElement("p",null,"验证码 ",B.a.createElement(u.a,{placement:"topLeft",title:"开启后需要输入验证码才能完成以下操作"},B.a.createElement(d.a,{className:"parameter-question",type:"question-circle"}))),B.a.createElement("div",{className:"Parameter-grid2"},B.a.createElement(A,h()({label:"登录"},J.e),a("verification_code#login_open",{initialValue:o.login_open||""})(B.a.createElement(_.a,{defaultChecked:1==o.login_open}))),B.a.createElement(A,h()({label:"注册"},J.e),a("verification_code#register_open",{initialValue:o.register_open||""})(B.a.createElement(_.a,{defaultChecked:1==o.register_open}))),B.a.createElement(A,h()({label:"询盘"},J.e),a("verification_code#inquiry_open",{initialValue:o.inquiry_open||""})(B.a.createElement(_.a,{defaultChecked:1==o.inquiry_open}))),B.a.createElement(A,h()({label:"评论"},J.e),a("verification_code#comment_open",{initialValue:o.comment_open||""})(B.a.createElement(_.a,{defaultChecked:1==o.comment_open}))))),B.a.createElement("div",{className:"Parameter-item",id:"link6"},B.a.createElement("p",null,"邮件提醒： ",B.a.createElement(u.a,{placement:"topLeft",title:"开启指定类型邮件将自动向用户发送邮件"},B.a.createElement(d.a,{className:"parameter-question",type:"question-circle"}))),B.a.createElement("div",{className:"Parameter-grid2"},B.a.createElement(A,h()({label:"注册"},J.e),a("email_notifier#register_open",{initialValue:E.register_open||""})(B.a.createElement(_.a,{defaultChecked:1==E.register_open}))),B.a.createElement(A,h()({label:"加购"},J.e),a("email_notifier#add_cart_open",{initialValue:E.add_cart_open||""})(B.a.createElement(_.a,{defaultChecked:1==E.add_cart_open}))),B.a.createElement(A,h()({label:"未支付"},J.e),a("email_notifier#order_unpaid_open",{initialValue:E.order_unpaid_open||""})(B.a.createElement(_.a,{defaultChecked:1==E.order_unpaid_open}))),B.a.createElement(A,h()({label:"已发货"},J.e),a("email_notifier#shipped_open",{initialValue:E.shipped_open||""})(B.a.createElement(_.a,{defaultChecked:1==E.shipped_open}))))),B.a.createElement("div",{className:"Parameter-item",id:"link7"},B.a.createElement("p",null,"URL规则"),B.a.createElement("div",{className:"Parameter-grid3"},B.a.createElement(A,{label:"商品分类"},a("site#dash_l",{initialValue:v.dash_l||"",rules:[{required:!0,message:"请输入商品分类"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"商品分类前缀"},a("site#category_prefix",{initialValue:v.category_prefix||"",rules:[{required:!0,message:"请输入商品分类前缀"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"商品"},a("site#dash_i",{initialValue:v.dash_i||"",rules:[{required:!0,message:"请输入商品"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"商品前缀"},a("site#product_prefix",{initialValue:v.product_prefix||"",rules:[{required:!0,message:"请输入商品前缀"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"文章分类"},a("site#dash_c",{initialValue:v.dash_c||"",rules:[{required:!0,message:"请输入文章分类"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"文章"},a("site#dash_a",{initialValue:v.dash_a||"",rules:[{required:!0,message:"请输入文章"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"搜索"},a("site#dash_s",{initialValue:v.dash_s||"",rules:[{required:!0,message:"请输入搜索"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"标签"},a("site#dash_t",{initialValue:v.dash_t||"",rules:[{required:!0,message:"请输入标签"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"评论"},a("site#dash_r",{initialValue:v.dash_r||"",rules:[{required:!0,message:"请输入评论"}]})(B.a.createElement(s.a,null))))),B.a.createElement("div",{className:"Parameter-item",id:"link8"},B.a.createElement("p",null,"分页设置"),B.a.createElement("div",{className:"Parameter-grid3"},B.a.createElement(A,{label:"商品分页数"},a("page_size",{initialValue:r.page_size||"",rules:[{required:!0,message:"请输入商品分页数"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"分页递增数"},a("page_range",{initialValue:r.page_range||"",rules:[{required:!0,message:"请输入分页递增数"}]})(B.a.createElement(s.a,null))),B.a.createElement(A,{label:"后台分页数"},a("page_size_admin",{initialValue:r.page_size_admin||"",rules:[{required:!0,message:"请输入后台分页数"}]})(B.a.createElement(s.a,null))))),B.a.createElement("div",{className:"shop-footer-btn"},B.a.createElement(i.a,{type:"primary",onClick:function(){return e.save()}},"保存")))))}}]),t}(B.a.Component);a.default=x.a.create()(K)}}]);