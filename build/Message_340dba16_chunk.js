(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1591:function(e,t,a){},1737:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Re}));a(1491);var n=a(1492),r=a.n(n),i=a(373),o=a.n(i),c=a(3),s=a.n(c),l=a(25),u=a.n(l),d=a(20),f=a.n(d),m=a(26),p=a.n(m),h=a(22),g=a.n(h),b=a(16),v=a.n(b),y=(a(374),a(220)),_=a.n(y),O=a(1),E=a.n(O),C=a(55),w={draft:"get_draft_message_pager",receive:"get_receive_message_pager",sent:"get_sent_message_pager"},j=[{id:"receive",name:"收件箱",icon:"shop_ziyuan17"},{id:"sent",name:"发件箱",icon:"shop_ziyuan17"},{id:"draft",name:"草稿箱",icon:"shop_ziyuan22"}],D=a(44),k=(a(190),a(87)),x=a.n(k),S=(a(82),a(41)),P=a.n(S),R=(a(122),a(42)),I=a.n(R),K=a(218),M=a(1489),T=(a(281),a(113)),Y=a.n(T),A=(a(88),a(39)),N=a.n(A),W=(a(121),a(45)),V=a.n(W),F=(a(73),a(30)),J=a.n(F),q=a(219),z=a(10);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}var B=J.a.Search,G=V.a.Item,U=function(e){p()(a,e);var t=H(a);function a(e,n){var r;return u()(this,a),(r=t.call(this,e,n)).beforeCallback=function(e,t){var a=r.context,n=a.activeKey,i=a.type,o=a.batConfig;if(0==e.tag_ids.length)return N.a.error("请至少选择一个"),!1;"draft"==n&&(e.is_draft=1),e.operate="add"==i?"bind":"unbind",e.id=o.listSelData.toString(),e.tag_ids=e.tag_ids.toString(),t(e)},r.issearch=function(e){for(var t=[],a=r.props.Checkboxdata,n=a.length,i=0;i<n;i++){-1!=a[i].name.toString().indexOf(e)&&t.push(a[i])}r.setState({tabsearch:t})},r.addtag=function(){r.setState({addshow:!0})},r.addclose=function(){r.setState({addshow:!1})},r.alltag=function(){var e=r.context,t=e.batConfig,a=e.activeKey,n=t.listSelData.toString(),i=0;"draft"==a&&(i=1),Object(z.b)(C.a.save_tag_to_message,{operate:"unbind_all",ids:n,is_draft:i}).then((function(e){200==e.resultId&&(r.props.changeSearch(),r.context.toggleWin("tagshow"))}))},r.addsubmit=function(){Object(z.b)(C.a.save_message_tag,{tag_name:r.state.addvalue}).then((function(e){e&&200==e.resultId&&(0!=r.state.tabsearch.length&&r.state.tabsearch.push({id:e.resultData.id,name:e.resultData.name}),r.props.Checkboxdata.push({id:e.resultData.id,name:e.resultData.name}),r.setState({addshow:!1}))}))},r.deletedtag=function(){var e=r.props.form.getFieldValue("tag_ids");Object(z.b)(C.a.del_message_tag,{tag_ids:e.toString()}).then((function(e){200==e.resultId&&r.props.tablist()}))},r.onChange=function(e,t){t.check=e.target.checked?1:2},r.addchange=function(e){r.setState({addvalue:e.target.value})},r.state={tabsearch:[],addshow:!1,addvalue:""},r}return f()(a,[{key:"render",value:function(){var e=this,t=this.context,a=t.tagshow,n=t.type,r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({beforeCallback:this.beforeCallback,title:!1,visible:a,onCancel:function(){return e.context.toggleWin("tagshow")},method:C.a.save_tag_to_message,form:this.props.form},this.context.batConfig),i=this.props.form.getFieldDecorator,o=this.state,c=o.tabsearch,l=o.addshow,u=this.props.Checkboxdata,d={config:[{title:"新增",onAuth:"add",noCheck:!0,visible:"add"==n,onClick:function(){return e.addtag()}},{title:"删除",onAuth:"delect",noCheck:!0,visible:"add"==n,onClick:function(){return e.deletedtag()}},{title:"取消所有",onAuth:"delect",noCheck:!0,visible:"colse"==n,onClick:function(){return e.alltag()}}],unicode:"draft_ids|id",batConfig:this.context.batConfig};return E.a.createElement(q.DrawerComp,r,E.a.createElement(B,{placeholder:"输入标签名搜索",onSearch:function(t){return e.issearch(t)},style:{width:"100%",margin:"20px 0"}}),E.a.createElement(M.a,d),E.a.createElement(V.a,null,l?E.a.createElement("div",{className:"addtab"},E.a.createElement(J.a,{placeholder:"",onChange:function(t){return e.addchange(t)}})," ",E.a.createElement("i",{onClick:this.addsubmit,className:" iconfont order-ico-wanchengbuzhou"}),E.a.createElement("i",{onClick:this.addclose,className:" iconfont order-ico-zuofei"})):"",E.a.createElement(G,{label:""},i("tag_ids",{})(E.a.createElement(Y.a.Group,{style:{width:"100%"}},E.a.createElement(x.a,null,(0==c.length?u:c).map((function(t){return E.a.createElement(I.a,{span:4},E.a.createElement(Y.a,{value:t.id,onChange:function(a){return e.onChange(a,t)},checked:1==t.check,style:{marginTop:"20px"}},t.name))}))))))))}}]),a}(O.Component);U.defaultProps={},U.contextType=K.a;var Q=V.a.create()(U);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}var $=function(e){p()(a,e);var t=Z(a);function a(e,n){var r;return u()(this,a),(r=t.call(this,e,n)).beforeCallback=function(e,t){r.context.toggleWin("details")},r.componentDidMount=function(){var e=r.context,t=e.activeKey,a=e.rowData_id,n="",i={};"draft"==t?(n=C.a.get_draft_message,i.draft_id=a):(n=C.a.get_message,i.id=a),Object(z.b)(n,i).then((function(e){e&&200==e.resultId&&r.setState({details_data:e.resultData})}))},r.state={details_data:{}},r}return f()(a,[{key:"render",value:function(){var e=this,t=this.context.details,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({beforeCallback:this.beforeCallback,title:!1,visible:t,onCancel:function(){return e.context.toggleWin("details")},method:"",form:this.props.form},this.context.batConfig),n=this.state.details_data;return E.a.createElement(q.DrawerComp,a,E.a.createElement("div",{style:{paddingTop:"40px"}},E.a.createElement("p",null,"To会员邮箱 : ",n.from_email?n.from_email:n.to_email),E.a.createElement("p",null,"留言标题 : ",n.title),E.a.createElement("p",null,"留言时间 : ",n.created_at),E.a.createElement("p",null,"留言内容 : "),E.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.content}})))}}]),a}(O.Component);$.defaultProps={},$.contextType=K.a;var ee=V.a.create()($),te=a(28),ae=a.n(te),ne=(a(89),a(40)),re=a.n(ne),ie=a(59),oe=a(1498);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}var le=V.a.Item,ue=(J.a.TextArea,re.a.Option,function(e){p()(a,e);var t=se(a);function a(e,n){var r;return u()(this,a),(r=t.call(this,e,n)).beforeCallback=function(e,t){var a=r.context.rowData,n=void 0===a?{}:a;n.id&&(e.id=n.id),t(e)},r.onCancel=function(){r.context.toggleWin("Setting")},r.state={},r}return f()(a,[{key:"componentDidMount",value:function(){this.context.rowData;Object(z.b)(C.a.get_message_sign,{}).then((function(e){}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.rowData,a=void 0===t?{}:t;o()(this.context);var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({beforeCallback:this.beforeCallback,title:"邮箱设置",method:C.a.save_message_sign,visible:this.context.Setting,onCancel:this.onCancel,form:this.props.form},this.context.batConfig);return E.a.createElement(q.ModalComp,n,E.a.createElement(V.a,{className:"bulletbox-form"},E.a.createElement("div",{className:"collapse-style",style:{padding:"20px"}},E.a.createElement(x.a,{style:{marginTop:"16px"}},E.a.createElement(I.a,{span:24},E.a.createElement(le,ae()({label:"主机驱动"},ie.d),e("email",{initialValue:a.email?a.storage_area_id:"",rules:[{required:!0,message:"必填项"}]})(E.a.createElement("span",null)))),E.a.createElement(I.a,{span:24},E.a.createElement(le,ae()({label:"主机"},ie.d),e("host",{initialValue:a.host?a.host:"",rules:[{required:!0,message:"请输入主机"}]})(E.a.createElement(J.a,null)))),E.a.createElement(I.a,{span:24},E.a.createElement(le,ae()({label:"端口"},ie.d),e("port",{initialValue:a.port?a.port:"",rules:[{required:!0,message:"请输入端口"}]})(E.a.createElement(J.a,null)))),E.a.createElement(I.a,{span:24},E.a.createElement(le,ae()({label:"邮箱账号"},ie.d),e("username",{initialValue:a.username?a.username:"",rules:[{required:!0,message:"请输入邮箱账号"}]})(E.a.createElement(J.a,null)))),E.a.createElement(I.a,{span:24},E.a.createElement(le,ae()({label:"邮箱密码"},ie.d),e("password",{initialValue:a.password?a.password:"",rules:[{required:!0,message:"请输入邮箱密码"}]})(E.a.createElement(J.a,null)))),E.a.createElement(I.a,{span:24},E.a.createElement(le,ae()({label:"加密类型"},ie.d),e("encryption",{initialValue:a.encryption?a.encryption:""})(E.a.createElement(J.a,null)))),E.a.createElement(I.a,{span:24},E.a.createElement(le,ae()({label:"签名设置"},ie.d),e("sign_content",{initialValue:a.sign_content?a.sign_content:""})(E.a.createElement(oe.a,{initialFrameHeight:300,id:"wapcontainer1",richText:a.sign_content?a.sign_content:""}))))))))}}]),a}(O.Component));ue.defaultProps={},ue.contextType=K.a;var de=V.a.create()(ue);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}var me=function(e){p()(a,e);var t=fe(a);function a(e,n){var r;return u()(this,a),(r=t.call(this,e,n)).componentDidMount=function(){r.tablist()},r.tablist=function(){Object(z.a)(C.a.get_message_tag_list,{}).then((function(e){e&&r.setState({Checkboxdata:e.resultData})}))},r.state={Checkboxdata:[]},r}return f()(a,[{key:"render",value:function(){var e=this,t=this.context.activeKey,a={config:[{title:"写信",onAuth:"add",noCheck:!0,method:"",onClick:function(){return e.context.jumpPage("Messageproedit","0","add")}},{title:"设置标签",onAuth:"add",onClick:function(){return e.context.toggleWin("tagshow",{type:"add"})}},{title:"取消标签",onAuth:"add",onClick:function(){return e.context.toggleWin("tagshow",{type:"colse"})}},{title:"批量删除",onAuth:"add",type:"danger",method:"draft"==t?C.a.del_draft_message:C.a.del_message},{title:"批量审核通过",onAuth:"add",visible:"sent"==t,method:C.a.save_message_approval,childrenData:{status:1}},{title:"批量审核驳回",onAuth:"add",visible:"sent"==t,method:C.a.save_message_approval,childrenData:{status:2}}],unicode:"draft"==t?"draft_ids|id":"message_ids|id",batConfig:this.context.batConfig};return E.a.createElement("div",{className:"action-bar"},E.a.createElement(x.a,{type:"flex",justify:"space-between",align:"middle",gutter:10},E.a.createElement(I.a,null,E.a.createElement(M.a,a)),E.a.createElement(I.a,null,E.a.createElement(P.a,{type:"primary",onClick:function(){return e.context.toggleWin("Setting")}},"邮箱设置"))),this.context.tagshow&&E.a.createElement(Q,{changeSearch:this.props.changeSearch,tablist:this.tablist,Checkboxdata:this.state.Checkboxdata}),this.context.details&&E.a.createElement(ee,null),this.context.Setting&&E.a.createElement(de,null))}}]),a}(O.Component);me.defaultProps={},me.contextType=K.a;var pe,he,ge,be=a(1493),ve=a(1494),ye=a(5),_e=a.n(ye);function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}var we,je=(he=pe=V.a.create()(ge=function(e){p()(a,e);var t=Ce(a);function a(e,n){var r;return u()(this,a),(r=t.call(this,e,n)).state={},r.handleFormData=function(e){e.date_start="",e.date_end="",e.order_time&&(e.date_start=_e()(e.order_time[0]).format("YYYY-MM-DD")+" 00:00:00",e.date_end=_e()(e.order_time[1]).format("YYYY-MM-DD")+" 23:59:59",e.date_type=1),e.order_time1&&(e.date_start=_e()(e.order_time1[0]).format("YYYY-MM-DD")+" 00:00:00",e.date_end=_e()(e.order_time1[1]).format("YYYY-MM-DD")+" 23:59:59",e.date_type=2),e.tag_ids&&(e.tag_ids=e.tag_ids.toString()),e.order_time="",delete e.order_time,delete e.order_time1,delete e.date_type,r.props.changeSearch(Ee(Ee({},e),{},{order_time:""}))},r.state={},r}return f()(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.managerlist,a=e.message_tag_list,n=e.channel_contrast,r=e.activeKey,i=[{type:"input",labelConf:{name:"会员名称",key:"email"},span:6},{labelConf:{name:"客服",key:"manager_id"},span:6,data:t||[]},{labelConf:[{name:"创建时间",key:"order_time"},{name:"发件时间",key:"order_time1"}],span:6,type:"range",visible:"draft"!=r},{labelConf:[{name:"保存时间",key:"order_time"}],span:6,type:"range",visible:"draft"==r},{labelConf:{name:"标签",key:"tag_ids"},formConf:{mode:"multiple"},span:6,data:a||[],renderOption:function(e){return E.a.createElement(Option,{key:e.id,value:e.id},e.name)}},{labelConf:{name:"渠道来源",key:"sources_channel_id"},span:6,visible:"receive"==r,data:n||[]},{labelConf:{name:"状态",key:"status"},span:6,visible:"sent"==r,data:[{name:"全部",id:""},{name:"待审核",id:"0"},{name:"已发送",id:1},{name:"驳回",id:2}]}];return E.a.createElement(ve.a,{loading:this.props.loading,SearchConf:i,handleFormData:this.handleFormData,activeKey:this.props.activeKey,changeTab:this.props.onChange})}}]),a}(O.Component))||ge,pe.defaultProps={},he),De=a(1490);a(1591);function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){s()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g()(this,a)}}var Pe=_.a.TabPane,Re=Object(De.a)({toolConfig:{list:{action:"get_receive_message_pager"}}})(we=function(e){p()(a,e);var t=Se(a);function a(e,n){var r;u()(this,a),(r=t.call(this,e,n)).onsortBlur=function(e,t,a){e.target.value},r.morelink=function(e,t,a){var n="/"+e+"/"+a;r.props.goLink(n,{title:t})},r.save_message_view=function(e,t){Object(z.b)(C.a.save_message_view,{message_id:e.id}).then((function(a){1==t?r.jumpPage("Messageproedit",e.id,"draft"==r.state.activeKey?"check":"edit"):r.toggleWin("details",{rowData_id:e.id})}))},r.componentDidMount=function(){r.changeTab(r.state.activeKey),Object(z.a)(C.a.get_manager_list,{}).then((function(e){e&&r.setState({managerlist:e.resultData})})),Object(z.b)(C.a.get_message_tag_list).then((function(e){r.setState({message_tag_list:e.resultData})})),Object(z.a)(C.a.get_all_channel_contrast,{}).then((function(e){e&&r.setState({channel_contrast:e.resultData})}))},r.toggleWin=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.state.otherConfig,i=void 0===n?{}:n;i=xe(xe(xe({},i),a),{},s()({},t,!r.state[t])),r.setState((e={},s()(e,t,!r.state[t]),s()(e,"otherConfig",i),e))},r.changeTab=function(e){r.setState({activeKey:e});var t=r.state.columns,a=[];t.map((function(e){e.visible||a.push(e)})),"receive"==e?(a.splice(a.length-1,0,{title:"创建时间",dataIndex:"created_at",width:180,visible:!0}),a.splice(a.length-1,0,{title:"渠道来源",dataIndex:"channel_name",width:100,visible:!0})):"sent"==e?(a.splice(a.length-1,0,{title:"状态",dataIndex:"status",width:100,visible:!0,render:function(e,t){return E.a.createElement("div",null,1==e?"已发送":2==e?"驳回":"待审核")}}),a.splice(a.length-1,0,{title:"创建时间",dataIndex:"created_at",width:180,visible:!0}),a.splice(a.length-1,0,{title:"发件时间",dataIndex:"sent_at",width:200,visible:!0})):"draft"==e&&a.splice(a.length-1,0,{title:"保存时间",dataIndex:"created_at",width:180,visible:!0}),r.setState({columns:a}),r.props.initListParam({action:C.a[w[e]]}),r.props.changeSearch({},e)},r.jumpPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add",n="/"+e+"/"+t+"/"+a;r.props.goLink(n,{type:a})},r.listdata=[],r.state={areaList:[],activeKey:e.activeKey||"receive",managerlist:[],channel_contrast:[],message_tag_list:[],listdata:[],columns:[{title:"消息",dataIndex:"title",width:410,render:function(e,t){return E.a.createElement("div",{className:"is-title"},2==t.is_view?E.a.createElement("div",{className:"is-view"},"未读"):"",E.a.createElement("div",null,E.a.createElement("p",null," 主题: ",t.title),E.a.createElement("p",null,"内容: ",t.content)))}},{title:"会员名称",dataIndex:"to_email",width:350,render:function(e,t){return E.a.createElement("div",null,E.a.createElement("p",null,e||(t.to_emails?t.to_emails.map((function(e){return E.a.createElement("a",{onClick:function(){return r.morelink("Memberinfo","会员信息",e.email)}},e.email)})):E.a.createElement("a",{onClick:function(){return r.morelink("Memberinfo","会员信息",t.from_email)}},t.from_email))),E.a.createElement("p",{className:"tab-span"},t.tags.map((function(e){return E.a.createElement("span",null," ",e.name)}))))}},{title:"国家",dataIndex:"country_flag",width:100,render:function(e,t){return E.a.createElement("div",null,e?E.a.createElement("img",{src:e}):t.to_emails?t.to_emails.map((function(e){return E.a.createElement("img",{src:e.country_flag})})):"")}},{title:"客服",dataIndex:"manager_name",width:180},{title:"渠道来源",dataIndex:"channel_name",width:100,visible:!0},{title:"操作",dataIndex:"id",width:300,fixed:"right",render:function(e,t){return E.a.createElement(M.a,i(t))}}]};var i=function(e){return{config:[{title:"查看",onAuth:"add",noCheck:!0,onClick:function(){return r.save_message_view(e,2)}},{title:"receive"==r.state.activeKey?"回复":"编辑",onAuth:"add",noCheck:!0,visible:"0"!=e.status,onClick:function(){return r.save_message_view(e,1)}},{title:"操作",noCheck:!0,ghost:!0,visible:"0"==e.status,children:[{title:"审核通过",onAuth:"add",method:C.a.save_message_approval,paramData:{status:1},childrenData:{status:1}},{title:"审核驳回",onAuth:"add",method:C.a.save_message_approval,paramData:{status:2},childrenData:{status:2}}]}],unicode:"message_ids|id",batConfig:r.props.batConfig,rowData:e}};return r.columns=[],r}return f()(a,[{key:"shouldComponentUpdate",value:function(e,t){return!Object(D.is)(Object(D.fromJS)(this.props),Object(D.fromJS)(e))||!Object(D.is)(Object(D.fromJS)(this.state),Object(D.fromJS)(t))}}]),f()(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.managerlist,n=t.message_tag_list,i=t.channel_contrast,c=t.activeKey,s=xe({columns:this.state.columns},this.props.tableConfig);o()(this.props);var l=xe(xe({},this.state.otherConfig),{},{toggleWin:this.toggleWin,jumpPage:this.jumpPage,batConfig:this.props.batConfig,activeKey:c,managerlist:a,message_tag_list:n,channel_contrast:i,changeSearch:this.props.changeSearch});return E.a.createElement("div",{className:"tabSwitching"},E.a.createElement("div",{className:"userStyle listStyle"},E.a.createElement(K.a.Provider,{value:l},E.a.createElement(je,{changeSearch:this.props.changeSearch,activeKey:this.state.activeKey,message_tag_list:n,managerlist:a,channel_contrast:i,onChange:this.changeTab}),E.a.createElement("div",{className:"header-tool"},E.a.createElement("p",null,"站内信"),E.a.createElement(me,{changeSearch:this.props.changeSearch,values:this.props.values})),j?E.a.createElement(_.a,{type:"card",activeKey:this.state.activeKey,onChange:function(t){return e.changeTab(t)}},j.map((function(e){return E.a.createElement(Pe,{tab:E.a.createElement("span",null,e.name),key:e.id})}))):"",E.a.createElement(r.a,{className:"content-main"},E.a.createElement("div",{className:"content-table"},E.a.createElement(be.a,s))))))}}]),a}(O.Component))||we}}]);