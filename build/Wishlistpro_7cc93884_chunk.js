(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1586:function(e,t,n){},1771:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return K}));n(190);var r=n(87),a=n.n(r),i=(n(122),n(42)),o=n.n(i),c=n(3),s=n.n(c),l=n(25),u=n.n(l),p=n(20),d=n.n(p),f=n(26),h=n.n(f),g=n(22),m=n.n(g),v=n(16),y=n.n(v),_=(n(374),n(220)),b=n.n(_),w=(n(89),n(40)),E=n.n(w),O=n(1),S=n.n(O),x=n(1493),C=n(218),P=n(373),j=n.n(P),k=(n(88),n(39)),R=n.n(k),D=n(1489),I=n(55),N=n(10);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var z=function(e){h()(n,e);var t=T(n);function n(e,r){var a;return u()(this,n),(a=t.call(this,e,r)).cartlist=function(){var e=a.context,t=e.batConfig,n=e.id,r=t.selectedRows;if(r.length>0){for(var i={customer_id:n,wish_products:[]},o=0;o<r.length;o++){if(!r[o].issize)return R.a.error("请选择尺码，诺无尺码则是商品数据有误"),!1;i.wish_products.push({wish_id:r[o].id,product_id:r[o].product_id,product_option_value_id:r[o].issize})}i.wish_products=JSON.stringify(i.wish_products),Object(N.b)(I.a.save_wishlist_to_cart,i).then((function(e){200==e.resultId&&(a.props.changeSearch({customer_id:n}),R.a.success(e.resultMsg))}))}else R.a.error("请至少选择一项")},a}return d()(n,[{key:"render",value:function(){var e=this,t={config:[{title:"转至购物车",noAuth:"add",onClick:function(){return e.cartlist()}},{title:"批量删除",noAuth:"add",type:"danger",method:I.a.del_customer_wishlist,unicode:"wish_ids|id"}],method:"",batConfig:this.context.batConfig};return j()(this.props),S.a.createElement("div",{className:"action-bar"},S.a.createElement(a.a,{type:"flex",justify:"space-between",align:"middle",gutter:10},S.a.createElement(o.a,null,S.a.createElement(D.a,t))))}}]),n}(O.Component);z.defaultProps={},z.contextType=C.a;var W,F,J,U=n(1490);n(1586);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var a=y()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m()(this,n)}}var B=E.a.Option,K=(b.a.TabPane,F=W=Object(U.a)({toolConfig:{list:{action:"get_customer_wishlist_product",params:{}}}})(J=function(e){h()(n,e);var t=M(n);function n(e,r){var i;u()(this,n),(i=t.call(this,e,r)).onSearch=function(e,t){t.issize=e},i.toggleWin=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.state.otherConfig,a=void 0===r?{}:r;a=L(L(L({},a),n),{},s()({},t,!i.state[t])),i.setState((e={},s()(e,t,!i.state[t]),s()(e,"otherConfig",a),e))},i.closePage=function(){i.props.router.goBack()},i.state={visible:!1,loading:!0};var c=e.params,l=c.type,p=c.id;return i.operType=l,i.id="0"==p?parseInt(p):p,i.columns=[{title:"图片",dataIndex:"image",width:100,render:function(e,t,n){return S.a.createElement("img",{src:e,style:{width:"60px"}})}},{title:"商品名称",dataIndex:"name",width:300,render:function(e,t,n){return S.a.createElement("a",{href:t.product_url,target:"_blank"},e)}},{title:"商品sku",dataIndex:"sku",width:100},{title:"SKU属性",dataIndex:"product_option_values",width:300,render:function(e,t){var n=e.Color?e.Color[0].option_value_name:"",r=e.Size?e.Size:[];return S.a.createElement("div",{className:"right"},e?S.a.createElement(a.a,null,S.a.createElement(o.a,{span:12},"color: ",n),S.a.createElement(o.a,{span:12,style:{display:"flex",alignItems:"center"}},S.a.createElement("span",{style:{marginRight:"5px"}},"size: "),S.a.createElement(E.a,{showSearch:!0,style:{width:"80px"},placeholder:"",optionFilterProp:"children",onChange:function(e){return i.onSearch(e,t)},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.map((function(e){return S.a.createElement(B,{value:e.id},e.option_value_name)}))))):"")}},{title:"商品价格（USD）",dataIndex:"price",width:100,render:function(e,t){var n="";return e&&(n=parseFloat(e).toFixed(2)),S.a.createElement("div",{className:"right"},n)}},{title:"商品分类",dataIndex:"categories",width:100,render:function(e,t){return S.a.createElement("div",{className:"right"},t.categories?S.a.createElement("span",null,t.categories.parent_category_name," ",t.categories.parent_category_name?S.a.createElement("span",null," > "):"","  ",t.categories.child_category_name):"")}}],i}return d()(n,[{key:"componentDidMount",value:function(){this.props.changeSearch({customer_id:this.id})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.visible,r=this.props,a=(r.form,r.local,L({toggleWin:this.toggleWin,batConfig:this.props.batConfig,operType:this.operType,visible:n,loading:t,id:this.id,changeSearch:this.props.changeSearch,get_customer_carts_detail:this.get_customer_carts_detail,get_customer:this.get_customer,closePage:this.closePage},this.state.otherConfig)),i=L({columns:this.columns},this.props.tableConfig);return S.a.createElement(C.a.Provider,{value:a},S.a.createElement("div",{className:"header-tool"},S.a.createElement("p",null,"心愿单详情"),S.a.createElement(z,{changeSearch:this.props.changeSearch})),S.a.createElement("div",{className:"userStyle",style:{background:"#fff"}},S.a.createElement("div",{className:" tabSwitching",style:{marginTop:"20px"}},S.a.createElement(x.a,i))))}}]),n}(O.Component))||J,W.defaultProps={},W.contextType=C.a,F)}}]);