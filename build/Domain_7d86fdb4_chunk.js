(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1700:function(e,t,n){},1726:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n.n(a),r=(n(1495),n(1496)),l=n.n(r),c=(n(82),n(41)),o=n.n(c),s=(n(88),n(39)),m=n.n(s),u=n(25),d=n.n(u),f=n(20),p=n.n(f),h=n(90),E=n.n(h),v=n(26),_=n.n(v),b=n(22),g=n.n(b),w=n(16),C=n.n(w),k=(n(73),n(30)),x=n.n(k),y=(n(121),n(45)),D=n.n(y),O=(n(123),n(51)),F=n.n(O),S=n(1),V=n.n(S),I=(n(1700),n(731));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var i=C()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var H=F.a.confirm,R=D.a.Item,T=x.a.TextArea,A=function(e){_()(n,e);var t=N(n);function n(e,a){var i;return d()(this,n),(i=t.call(this,e,a)).componentDidMount=function(){i.init()},i.init=function(){I.a.order.manager_domain({}).then((function(e){e&&i.setState({free_domain:e.resultData.free_domain,main_domain:e.resultData.main_domain,maintext:e.resultData.main_domain.domain,freetext:e.resultData.free_domain.domain})}))},i.onredirectChange=function(e){var t=E()(i);H({title:"",content:"请再次确认是否重定向至主域名",onOk:function(){I.a.order.redirect_main_domain({is_redirect:e?1:0}).then((function(e){m.a.success("重定向成功"),t.init()}))},onCancel:function(){}})},i.onHttpsChange=function(e){var t=E()(i);e?i.setState({httpvisible:!0}):H({title:"",content:"请再次确认是否关闭Https",onOk:function(){I.a.order.open_https({open_https:0}).then((function(e){m.a.success("关闭成功"),t.init()}))},onCancel:function(){}})},i.handlehttpOk=function(){var e=i.props.form.getFieldValue("key"),t=i.props.form.getFieldValue("certificate");e&&t?I.a.order.open_https({open_https:1,key:e,certificate:t}).then((function(e){e&&(i.setState({httpvisible:!1}),m.a.success("成功"),i.init())})):m.a.error("请输入参数")},i.handleOk=function(){var e=i.state.maintext,t=E()(i);H({title:"绑定操作无法撤销",content:"请再次确认域名是否已经解析正确",onOk:function(){I.a.order.bind_domain({domain:e}).then((function(e){m.a.success("绑定成功"),t.setState({visible:!1}),t.init()}))},onCancel:function(){}})},i.mainvalue=function(e){i.setState({maintext:e.target.value})},i.freevalue=function(e){i.setState({freetext:e.target.value})},i.mainchange=function(){i.setState({visible:!0})},i.freechange=function(){var e=i.state.freetext,t=E()(i);H({title:"只允许修改一次免费域名",content:"请再次确定",onOk:function(){I.a.order.edit_free_domain({domain:e}).then((function(e){m.a.success("修改成功"),t.init()}))},onCancel:function(){}})},i.handleCancel=function(){i.setState({visible:!1,httpvisible:!1})},i.state={loading:!0,country_ids:[],browser_language_ids:[]},i}return p()(n,[{key:"render",value:function(){var e,t,n,a=this,r=this.state,c=r.visible,s=void 0!==c&&c,m=r.httpvisible,u=void 0!==m&&m,d=r.main_domain,f=void 0===d?{}:d,p=r.free_domain,h=void 0===p?{}:p,E=r.maintext,v=r.freetext,_=this.props.form.getFieldDecorator;return V.a.createElement("div",{className:"Domain-main"},V.a.createElement(D.a,null,V.a.createElement("div",{className:"header-tool"},V.a.createElement("p",null,"域名绑定")),V.a.createElement("div",{className:"Domain-item"},V.a.createElement("p",null,"主域名"),V.a.createElement("div",{style:{display:"flex",width:"500px"}},V.a.createElement(R,{label:""},_("main",{initialValue:E})(V.a.createElement(x.a,{disabled:f.domain,onChange:function(e){return a.mainvalue(e)}}))),V.a.createElement(o.a,{onClick:this.mainchange,disabled:f.domain},"绑定")),V.a.createElement("span",{className:"title"},"例子: 域名请填写 : example.com,请不要加 www"),V.a.createElement("div",{style:{marginTop:"20px"}},V.a.createElement("span",null,"Https状态："),f.open_https||0==f.open_https?V.a.createElement(R,{label:""},_("open_https",{initialValue:1==f.open_https})(V.a.createElement(l.a,{defaultChecked:1==f.open_https,onChange:function(e){return a.onHttpsChange(e)}}))):"")),V.a.createElement("div",{className:"Domain-item"},V.a.createElement("p",null,"免费域名"),V.a.createElement("div",{style:{display:"flex",width:"500px"}},V.a.createElement(x.a,{disabled:h.modified_at,value:v,addonAfter:h.domain_suffix,defaultValue:h.domain,onChange:function(e){return a.freevalue(e)}}),V.a.createElement(o.a,{disabled:h.modified_at,onClick:this.freechange},"修改")),V.a.createElement("div",{style:{marginTop:"20px"}},V.a.createElement("span",null,"重定向至主域名："),h.is_redirect||0==h.is_redirect?V.a.createElement(R,(e={FormItem:!0},i()(e,"FormItem",!0),i()(e,"label",""),e),_("is_redirect",{initialValue:1==h.is_redirect})(V.a.createElement(l.a,{defaultChecked:1==h.is_redirect,onChange:function(e){return a.onredirectChange(e)}}))):"")),V.a.createElement(F.a,{title:"绑定提示",visible:s,onOk:this.handleOk,onCancel:this.handleCancel,okText:"继续绑定"},V.a.createElement("p",null,"若您尚未拥有自己的一级域名，可前往进行域名购买",V.a.createElement("br",null),"在您的域名提供商处添加域名解析",V.a.createElement("br",null),"1.根据域名服务商提供的账号及密码登录到域名服务商提供的管理平台",V.a.createElement("br",null),"2.点击“域名管理”",V.a.createElement("br",null),"3.找到需要设置的域名",V.a.createElement("br",null),"4.点击“域名解析”",V.a.createElement("br",null),"5.添加CNAME记录，主机记录为www,记录值为域名地址",V.a.createElement("br",null),"注：若您的域名解析配置中已经存在主机名为www的解析记录，须先将其删除再行步骤;若您仍然需要使用之前的www解析记录解析到您已有的网站而不能删除，建议您注册新的域名来绑定。",V.a.createElement("br",null)," 6.保存后等待解析生效即可，最长解析时间不超过72小时。",V.a.createElement("br",null),"以上步骤仅为参考，具体操作以注册商提供的方式为准。",V.a.createElement("br",null),V.a.createElement("br",null)," 说明:系统会分析您的域名,避免域名输错的情况,但是一旦绑定,便不能再修改.此外,若解析成功后,我们这里分析域名有错,可能是域名服务商解析域名延迟导致。")),u&&V.a.createElement(F.a,{title:"Https信息",visible:u,onOk:this.handlehttpOk,onCancel:this.handleCancel,okText:"保存"},V.a.createElement(R,(t={FormItem:!0},i()(t,"FormItem",!0),i()(t,"label","密钥(KEY)"),t),_("key",{initialValue:""})(V.a.createElement(T,{rows:4}))),V.a.createElement(R,(n={FormItem:!0},i()(n,"FormItem",!0),i()(n,"label","证书(PEM格式)"),n),_("certificate",{initialValue:""})(V.a.createElement(T,{rows:4}))))))}}]),n}(V.a.Component);t.default=D.a.create()(A)}}]);