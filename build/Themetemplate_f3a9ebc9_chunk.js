(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1689:function(e,t,n){},1690:function(e,t,n){e.exports=n.p+"./pc.png?dcf6fb49b2c3622a0f8f5d231d8c8213"},1691:function(e,t,n){e.exports=n.p+"./mobile.png?08fb722dc30021375ed0705a56fb02fb"},1772:function(e,t,n){"use strict";n.r(t);n(191);var a=n(114),i=n.n(a),l=(n(82),n(41)),c=n.n(l),r=n(3),o=n.n(r),s=n(25),u=n.n(s),m=n(20),p=n.n(m),f=n(26),d=n.n(f),h=n(22),v=n.n(h),g=n(16),b=n.n(g),E=(n(374),n(220)),y=n.n(E),k=n(1),C=n.n(k),w=(n(1689),n(731)),_=(n(190),n(87)),D=n.n(_),N=(n(122),n(42)),z=n.n(N),x=n(28),R=n.n(x),S=(n(73),n(30)),P=n.n(S),W=(n(121),n(45)),q=n.n(W),M=n(219),J=n(59);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return v()(this,n)}}var T=q.a.Item,j=function(e){d()(n,e);var t=L(n);function n(e,a){var i;return u()(this,n),(i=t.call(this,e,a)).beforeCallback=function(e,t){var n=i.props.rowData,a=void 0===n?{}:n;w.a.order.edit_template_name({tpl_id:a.id,tpl_name:e.name}).then((function(e){e&&(i.props.customizelist(),i.onCancel())}))},i.onCancel=function(){i.props.toggleWin("rechristen")},i.state={},i}return p()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.rowData,n=void 0===t?{}:t,a={beforeCallback:this.beforeCallback,title:"重命名",visible:this.props.visible,onCancel:this.onCancel,form:this.props.form,width:500};return C.a.createElement(M.ModalComp,a,C.a.createElement(q.a,{className:"bulletbox-form"},C.a.createElement("div",{className:"collapse-style",style:{padding:"20px"}},C.a.createElement(D.a,{style:{marginTop:"16px"}},C.a.createElement(z.a,{span:24},C.a.createElement(T,R()({label:"名字"},J.b),e("name",{initialValue:n.name||"",rules:[{required:!0,message:"必填项"}]})(C.a.createElement(P.a,null))))))))}}]),n}(k.Component);j.defaultProps={};var A=q.a.create()(j),F=n(1489),H=n(1690),I=n.n(H),K=n(1691),V=n.n(K);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var i=b()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return v()(this,n)}}var G=y.a.TabPane,O=function(e){d()(n,e);var t=B(n);function n(e,a){var i;return u()(this,n),(i=t.call(this,e,a)).componentDidMount=function(){i.customizelist()},i.copy=function(e){i.setState({loading:!0}),w.a.order.customizecopy({tpl_id:e}).then((function(e){e&&(i.setState({loading:!1}),i.customizelist())}))},i.colse=function(e){w.a.order.customizedeletetemplate({tpl_id:e}).then((function(e){e&&i.customizelist()}))},i.publish=function(e){w.a.order.customizepublish({tpl_id:e}).then((function(e){e&&i.customizelist()}))},i.customizelist=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.tabval;i.setState({loading:!0}),w.a.order.customizelist({is_mobile:e}).then((function(e){e&&i.setState({squaredata:e.resultData,curr_template:e.resultData.curr_template,loading:!1})}))},i.callback=function(e){i.tabval=e,i.customizelist(e)},i.tabclick=function(e){i.setState({curr_template:e})},i.jumpPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"edit",a=e+"/"+t+"/"+n,i=window.location.origin+"/#/"+a;window.open(i)},i.toggleWin=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"visible",n=arguments.length>1?arguments[1]:void 0;i.setState((e={},o()(e,t,!i.state[t]),o()(e,"rowData",n),e))},i.state={squaredata:{}},i._batProps=function(e){return{config:[{title:"更多",noCheck:!0,ghost:!0,children:[{title:"预览",noCheck:!0,ghost:!0,onClick:function(){i.toggleWin("visibleLog",e)}},{title:"编辑",noCheck:!0,ghost:!0,url:"Decorateedit/".concat(e.id,"/edit")},{title:"发布",noCheck:!0,ghost:!0,visible:1!=e.is_publish,onClick:function(){i.publish(e.id)}},{title:"重命名",noCheck:!0,ghost:!0,onClick:function(){i.toggleWin("rechristen",e)}},{title:"复制",noCheck:!0,ghost:!0,onClick:function(){i.copy(e.id)}},{title:"删除",noCheck:!0,type:"danger",ghost:!0,visible:1!=e.is_publish,onClick:function(){i.colse(e.id)}}]}],unicode:"tpl_id|id",batConfig:{blistSelData:"",selectedRows:"",changeSearch:""},rowData:e}},i.tabval="0",i}return p()(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.loading,a=void 0===n||n,l=t.squaredata,r=void 0===l?{}:l,o=t.curr_template,s=void 0===o?{}:o,u=t.rechristen,m=void 0!==u&&u,p=t.rowData,f=r.site,d=void 0===f?{}:f,h="PC模板修改",v=I.a;return 1==this.tabval&&(h="移动模板修改",v=V.a),C.a.createElement("div",{className:"userStyle theme-main"},C.a.createElement("div",{className:"header-tool"},C.a.createElement("p",null,h)),C.a.createElement("div",{className:"theme-content-main"},C.a.createElement("div",{className:"content-le"},C.a.createElement("h2",null,"网站信息"),C.a.createElement("div",null,C.a.createElement("p",null,"网站代码：",d.prefix),C.a.createElement("p",null,"网站名称：",d.name),C.a.createElement("p",null,"网站域名：",C.a.createElement("a",{href:d.domain,target:"_blank"},d.domain)))),C.a.createElement("div",{className:"content-ri"},C.a.createElement(i.a,{spinning:a},C.a.createElement(y.a,{defaultActiveKey:"0",onChange:function(t){return e.callback(t)}},C.a.createElement(G,{tab:"PC端设置",key:"0"}),C.a.createElement(G,{tab:"移动端设置",key:"1"})),C.a.createElement("div",{style:{display:"flex"}},C.a.createElement("div",{className:"theme-le ",style:{flex:"1"}},C.a.createElement("p",{className:"theme-le-title"},"当前模板: ",C.a.createElement("a",null," ",s.name)),C.a.createElement("div",{className:"theme-le-main"},C.a.createElement("div",{className:1==this.tabval?"theme-le-img img-model":"theme-le-img img-pc"},C.a.createElement("img",{src:v}),C.a.createElement("img",{src:s.image}),C.a.createElement("div",{className:"theme-le-buton"},C.a.createElement(HocWinLink,{url:"Decorateedit/".concat(s.id,"/edit")},C.a.createElement(c.a,{type:"primary"},"进入可视化编辑")),1!=s.is_publish?C.a.createElement(c.a,{type:"primary",onClick:function(){return e.publish(s.id)}},"发布"):"")))),C.a.createElement("div",{className:"theme-ri",style:{width:"300px"}},C.a.createElement("p",null,C.a.createElement("span",null,"模板列表")," ",C.a.createElement("a",null,"新增模板")),C.a.createElement("ul",null,r.templates?r.templates.map((function(t){return C.a.createElement("li",{className:t==s?"ative":""},C.a.createElement("span",{className:"theme-ri-name",onClick:function(){return e.tabclick(t)}},t.name),C.a.createElement(F.a,e._batProps(t)))})):"")))))),m&&C.a.createElement(A,{visible:m,rowData:p,toggleWin:function(t){return e.toggleWin(t)},customizelist:function(){return e.customizelist()}}))}}]),n}(C.a.Component);t.default=O}}]);